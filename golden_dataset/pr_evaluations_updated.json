{
  "dataset_name": "librsvg_pr_review_golden_dataset",
  "description": "Golden dataset for testing PR review assistant agents on librsvg codebase",
  "version": "2.0",
  "last_updated": "2026-02-19",
  "total_evaluations": 25,
  "notes": {
    "valid": "Test case diff matches current codebase",
    "outdated": "Code has changed since test was created - needs update",
    "superseded": "Feature/bugfix already implemented in codebase"
  },
  "evaluations": [
    {
      "id": 1,
      "status": "outdated",
      "pr_title": "Refactor clamp function to use standard library",
      "pr_description": "Replace custom clamp implementation with std::cmp::Clamp trait for better idiomatic Rust code.",
      "branch": "feature/use-cmp-clamp",
      "target_branch": "main",
      "difficulty": "easy",
      "categories": ["code_style", "rust_idioms"],
      "changes": [
        {
          "file": "rsvg/src/util.rs",
          "change_type": "modify",
          "original_diff": "--- a/rsvg/src/util.rs\n+++ b/rsvg/src/util.rs\n@@ -74,11 +74,12 @@ pub unsafe fn cstr<'a>(s: *const libc::c_char) -> Cow<'a, str> {\n }\n \n pub fn clamp<T: PartialOrd>(val: T, low: T, high: T) -> T {\n-    if val < low {\n-        low\n-    } else if val > high {\n-        high\n-    } else {\n-        val\n-    }\n+    use std::cmp::Ordering;\n+    match val.cmp(&low) {\n+        Ordering::Less => low,\n+        _ => match val.cmp(&high) {\n+            Ordering::Greater => high,\n+            _ => val,\n+        },\n+    }\n }\n",
          "context_lines": 5,
          "current_line_range": "76-84"
        }
      ],
      "expected_review": {
        "focus_areas": ["Use of std::cmp::Clamp trait", "PartialOrd trait bounds", "Code clarity vs conciseness"],
        "suggestions": ["Consider using val.clamp(&low, &high) if using Clamp requires nightly", "The current implementation is already readable"],
        "potential_issues": ["New implementation adds nested matches which may be less readable"]
      }
    },
    {
      "id": 2,
      "status": "outdated",
      "pr_title": "Add null check safety improvements to utf8_cstr",
      "pr_description": "Improve safety invariants in unsafe UTF-8 conversion functions with better null checks.",
      "branch": "feature/safe-utf8-checks",
      "target_branch": "main",
      "difficulty": "medium",
      "categories": ["memory_safety", "security"],
      "changes": [
        {
          "file": "rsvg/src/util.rs",
          "change_type": "modify",
          "original_diff": "--- a/rsvg/src/util.rs\n+++ b/rsvg/src/util.rs\n@@ -13,7 +13,9 @@ use std::str;\n ///\n /// Safety: `s` must be a nul-terminated, valid UTF-8 string of bytes.\n pub unsafe fn utf8_cstr<'a>(s: *const libc::c_char) -> &'a str {\n-    assert!(!s.is_null());\n+    if s.is_null() {\n+        return \"\";\n+    }\n \n     unsafe { str::from_utf8_unchecked(CStr::from_ptr(s).to_bytes()) }\n }\n",
          "context_lines": 5,
          "current_line_range": "15-18"
        }
      ],
      "expected_review": {
        "focus_areas": ["Unsafe code invariants", "Return value contracts", "Documentation consistency"],
        "suggestions": ["Returning empty string on null changes the contract", "Consider using Option<&str> return type"],
        "potential_issues": ["Silently returning empty string may hide bugs", "Breaking change for callers expecting panics"]
      }
    },
    {
      "id": 3,
      "status": "outdated",
      "pr_title": "Optimize bounding box combine operation",
      "pr_description": "Improve performance of bounding box combination by avoiding unnecessary unwrap calls.",
      "branch": "feature/bbox-combine-optimize",
      "target_branch": "main",
      "difficulty": "medium",
      "categories": ["performance"],
      "changes": [
        {
          "file": "rsvg/src/bbox.rs",
          "change_type": "modify",
          "original_diff": "--- a/rsvg/src/bbox.rs\n+++ b/rsvg/src/bbox.rs\n@@ -38,11 +38,14 @@ impl BoundingBox {\n             return;\n         }\n \n-        // this will panic!() if it's not invertible... should we check on our own?\n-        let transform = self\n-            .transform\n-            .invert()\n-            .unwrap()\n-            .pre_transform(&src.transform);\n+        let invert_result = self.transform.invert();\n+        if invert_result.is_none() {\n+            return;\n+        }\n+\n+        let transform = invert_result\n+            .unwrap()\n+            .pre_transform(&src.transform);\n \n         self.rect = combine_rects(self.rect, src.rect, &transform, clip);\n         self.ink_rect = combine_rects(self.ink_rect, src.ink_rect, &transform, clip);\n",
          "context_lines": 5,
          "current_line_range": "36-50"
        }
      ],
      "expected_review": {
        "focus_areas": ["Panic vs error handling", "Performance implications", "Logic correctness"],
        "suggestions": ["Consider logging a warning when transform is not invertible"],
        "potential_issues": ["Silent return may hide valid transform errors"]
      }
    },
    {
      "id": 4,
      "status": "valid",
      "pr_title": "Add comprehensive error context to parse failures",
      "pr_description": "Enhance error messages in parsers to include more context for debugging.",
      "branch": "feature/parse-error-context",
      "target_branch": "main",
      "difficulty": "easy",
      "categories": ["error_handling", "debugging"],
      "changes": [
        {
          "file": "rsvg/src/parsers.rs",
          "change_type": "modify",
          "diff": "--- a/rsvg/src/parsers.rs\n+++ b/rsvg/src/parsers.rs\n@@ -97,10 +97,12 @@ impl Parse for NonNegative {\n     fn parse<'i>(parser: &mut Parser<'i, '_>) -> Result<Self, ParseError<'i>> {\n         let loc = parser.current_source_location();\n         let n = Parse::parse(parser)?;\n-        if n >= 0.0 {\n-            Ok(NonNegative(n))\n-        } else {\n-            Err(loc.new_custom_error(ValueErrorKind::value_error(\"expected non negative number\")))\n+        match n >= 0.0 {\n+            true => Ok(NonNegative(n)),\n+            false => Err(loc.new_custom_error(ValueErrorKind::value_error(\n                format!(\"expected non-negative number, got {}\", n)\n-            )))\n+            ))),\n         }\n     }\n }\n",
          "context_lines": 5,
          "current_line_range": "97-107"
        }
      ],
      "expected_review": {
        "focus_areas": ["Error message quality", "Debugging experience", "Performance of string formatting"],
        "suggestions": ["Using format! in error path is fine since errors are exceptional"],
        "potential_issues": ["None - this is a pure improvement"]
      }
    },
    {
      "id": 5,
      "status": "outdated",
      "update_required": "Add Grayscale and Sepia variants to OperationType enum at line ~35",
      "pr_title": "Add SVG filter: color matrix enhancement",
      "pr_description": "Implement additional color matrix presets for SVG filters.",
      "branch": "feature/color-matrix-presets",
      "target_branch": "main",
      "difficulty": "hard",
      "categories": ["new_feature", "api_design"],
      "changes": [
        {
          "file": "rsvg/src/filters/color_matrix.rs",
          "change_type": "modify",
          "current_code": "enum OperationType {\n    #[default]\n    Matrix,\n    Saturate,\n    HueRotate,\n    LuminanceToAlpha,\n}",
          "updated_diff": "--- a/rsvg/src/filters/color_matrix.rs\n+++ b/rsvg/src/filters/color_matrix.rs\n@@ -33,6 +33,10 @@ enum OperationType {\n     Saturate,\n     HueRotate,\n     LuminanceToAlpha,\n+    /// Custom preset for grayscale\n+    Grayscale,\n+    /// Custom preset for sepia tone\n+    Sepia,\n }",
          "context_lines": 5,
          "current_line_range": "28-36"
        }
      ],
      "expected_review": {
        "focus_areas": ["API design for presets", "Backward compatibility", "Test coverage needs"],
        "suggestions": ["Ensure presets match SVG spec values exactly", "Add comprehensive tests for new presets"],
        "potential_issues": ["New enum variants require updating any match statements"]
      }
    },
    {
      "id": 6,
      "status": "valid",
      "pr_title": "Fix path parser floating point overflow",
      "pr_description": "Add overflow checking to path parser number conversion.",
      "branch": "fix/path-parser-overflow",
      "target_branch": "main",
      "difficulty": "medium",
      "categories": ["security", "bug_fix"],
      "changes": [
        {
          "file": "rsvg/src/path_parser.rs",
          "change_type": "modify",
          "diff": "--- a/rsvg/src/path_parser.rs\n+++ b/rsvg/src/path_parser.rs\n@@ -130,10 +130,16 @@ impl<'a> Lexer<'_> {\n         // avoid re-validating all the chars\n+        let num_str = std::str::from_utf8(&self.input[start_pos..end_pos])\n+            .map_err(|_| LexError::ParseFloatError)?;\n+\n+        // Check for overflow before parsing\n+        if num_str.len() > 320 {\n+            return Err(LexError::ParseFloatError);\n+        }\n \n-        match std::str::from_utf8(&self.input[start_pos..end_pos])\n-            .unwrap()\n-            .parse::<f64>()\n+        match num_str.parse::<f64>()\n         {\n             Ok(n) => Ok(Number(n)),\n             Err(_e) => Err(LexError::ParseFloatError),\n",
          "context_lines": 5,
          "current_line_range": "127-140"
        }
      ],
      "expected_review": {
        "focus_areas": ["Input validation", "DoS prevention", "Error handling"],
        "suggestions": ["Consider using saturating_parse", "The 320 character limit seems arbitrary"],
        "potential_issues": ["Length check doesn't prevent all overflow scenarios"]
      }
    },
    {
      "id": 7,
      "status": "outdated",
      "update_required": "Tests should be added at end of tests module (line ~1127), not line 750",
      "pr_title": "Add unit tests for transform module",
      "pr_description": "Increase test coverage for transformation matrix operations.",
      "branch": "test/transform-coverage",
      "target_branch": "main",
      "difficulty": "easy",
      "categories": ["testing"],
      "changes": [
        {
          "file": "rsvg/src/transform.rs",
          "change_type": "add",
          "current_code": "// Tests module ends at line 1127",
          "updated_diff": "--- a/rsvg/src/transform.rs\n+++ b/rsvg/src/transform.rs\n@@ -1124,4 +1124,28 @@ mod tests {\n         assert!(parse_transform_prop(\"skewY(1.0,1.0)\").is_err());\n     }\n+\n+    #[test]\n+    fn test_transform_compose() {\n+        let t1 = Transform::new(1.0, 0.0, 0.0, 1.0, 10.0, 20.0);\n+        let t2 = Transform::new(2.0, 0.0, 0.0, 2.0, 0.0, 0.0);\n+        let composed = t1.pre_transform(&t2);\n+        assert_eq!(composed.xx, 2.0);\n+        assert_eq!(composed.x0, 20.0);\n+    }\n+\n+    #[test]\n+    fn test_transform_invert_invalid() {\n+        let t = Transform::new(0.0, 0.0, 0.0, 0.0, 0.0, 0.0);\n+        assert!(!t.is_invertible());\n+    }\n+\n+    #[test]\n+    fn test_transform_round_trip() {\n+        let t = Transform::new(1.0, 2.0, 3.0, 4.0, 5.0, 6.0);\n+        let inverted = t.invert().unwrap();\n+        let combined = t.pre_transform(&inverted);\n+        assert!((combined.xx - 1.0).abs() < 1e-10);\n+        assert!((combined.yy - 1.0).abs() < 1e-10);\n+    }\n}",
          "context_lines": 5,
          "current_line_range": "1114-1128"
        }
      ],
      "expected_review": {
        "focus_areas": ["Test coverage completeness", "Test quality and assertions", "Edge case handling"],
        "suggestions": ["Add tests for degenerate cases", "Consider using proptest"],
        "potential_issues": ["None - test additions are low risk"]
      }
    },
    {
      "id": 8,
      "status": "outdated",
      "pr_title": "Refactor error type to use thiserror",
      "pr_description": "Replace manual Error implementations with thiserror derive for cleaner code.",
      "branch": "refactor/thiserror-impl",
      "target_branch": "main",
      "difficulty": "medium",
      "categories": ["rust_idioms", "code_style"],
      "changes": [
        {
          "file": "rsvg/src/error.rs",
          "change_type": "modify",
          "original_diff": "--- a/rsvg/src/error.rs\n+++ b/rsvg/src/error.rs\n@@ -50,15 +52,12 @@ impl ValueErrorKind {\n     }\n }\n\n-impl fmt::Display for ValueErrorKind {\n-    fn fmt(&self, f: &mut fmt::Formatter<'_>) -> fmt::Result {\n-        match *self {\n-            ValueErrorKind::UnknownProperty => write!(f, \"unknown property name\"),\n-            ValueErrorKind::Parse(ref s) => write!(f, \"parse error: {s}\"),\n-            ValueErrorKind::Value(ref s) => write!(f, \"invalid value: {s}\"),\n-        }\n-    }\n+#[derive(thiserror::Error, Debug, Clone)]\n+pub enum ValueErrorKind {\n+    #[error(\"unknown property name\")]\n+    UnknownProperty,\n+    #[error(\"parse error: {0}\")]\n+    Parse(String),\n+    #[error(\"invalid value: {0}\")]\n+    Value(String),\n }",
          "context_lines": 5,
          "current_line_range": "needs verification"
        }
      ],
      "expected_review": {
        "focus_areas": ["Dependency management", "Breaking changes", "Macro usage"],
        "suggestions": ["Verify thiserror is already in dependencies", "Ensure Display output matches"],
        "potential_issues": ["May change error message formatting", "Adds new dependency"]
      }
    },
    {
      "id": 9,
      "status": "outdated",
      "pr_title": "Add documentation examples for length module",
      "pr_description": "Improve API documentation with runnable examples.",
      "branch": "docs/length-examples",
      "target_branch": "main",
      "difficulty": "easy",
      "categories": ["documentation"],
      "changes": [
        {
          "file": "rsvg/src/length.rs",
          "change_type": "modify",
          "original_diff": "--- a/rsvg/src/length.rs\n+++ b/rsvg/src/length.rs\n@@ -55,6 +55,30 @@ use crate::viewbox::ViewBox;\n ///\n /// For example, the implementation of [`Circle`][crate::shapes::Circle] defines this\n /// structure with fields for the `(center_x, center_y, radius)`:\n+\n+/// # Examples\n+...",
          "context_lines": 5,
          "current_line_range": "needs verification"
        }
      ],
      "expected_review": {
        "focus_areas": ["Doc test correctness", "Example quality", "API usability"],
        "suggestions": ["Verify examples compile", "Consider adding doctest for error cases"],
        "potential_issues": ["Module path in doctest may need adjustment"]
      }
    },
    {
      "id": 10,
      "status": "outdated",
      "pr_title": "Implement cache for gradient rendering",
      "pr_description": "Add caching layer to avoid recomputing gradient patterns on every render.",
      "branch": "perf/gradient-cache",
      "target_branch": "main",
      "difficulty": "hard",
      "categories": ["performance", "optimization"],
      "changes": [
        {
          "file": "rsvg/src/gradient.rs",
          "change_type": "modify",
          "original_diff": "gradient.rs - requires adding HashMap and lazy_static",
          "context_lines": 5,
          "current_line_range": "file is significantly different"
        }
      ],
      "expected_review": {
        "focus_areas": ["Thread safety", "Cache invalidation", "Memory management"],
        "suggestions": ["Use RwLock for concurrent read access", "Add cache size limit"],
        "potential_issues": ["No cache invalidation", "May cause memory leaks"]
      }
    },
    {
      "id": 11,
      "status": "outdated",
      "pr_title": "Add concurrency support with rayon for parallel rendering",
      "pr_description": "Implement parallel rendering using rayon for multi-core performance.",
      "branch": "perf/parallel-render",
      "target_branch": "main",
      "difficulty": "hard",
      "categories": ["performance", "concurrency"],
      "changes": [
        {
          "file": "rsvg/src/drawing_ctx.rs",
          "change_type": "modify",
          "original_diff": "drawing_ctx.rs - requires rayon imports",
          "context_lines": 5,
          "current_line_range": "file is significantly different"
        }
      ],
      "expected_review": {
        "focus_areas": ["Thread safety", "Data race prevention", "Synchronization overhead"],
        "suggestions": ["Use scoped threads", "Consider work-stealing"],
        "potential_issues": ["Cairo context is not thread-safe", "Nodes may have interior mutability"]
      }
    },
    {
      "id": 12,
      "status": "superseded",
      "pr_title": "Fix URL resolution path traversal vulnerability",
      "pr_description": "Add validation to prevent path traversal attacks in URL resolution.",
      "branch": "fix/url-traversal",
      "target_branch": "main",
      "difficulty": "hard",
      "categories": ["security", "bug_fix"],
      "changes": [
        {
          "file": "rsvg/src/url_resolver.rs",
          "change_type": "already_implemented",
          "current_code": "// Security fix already implemented at lines 125-138:\n// - Uses canonicalize() to resolve paths\n// - Checks path_canon.starts_with(parent_canon)\n// - Returns NotSiblingOrChildOfBaseFile on traversal attempt",
          "context_lines": 5,
          "current_line_range": "125-138"
        }
      ],
      "expected_review": {
        "focus_areas": ["Security analysis", "Error handling", "Race condition possibilities"],
        "suggestions": ["This security fix is already implemented in the codebase"],
        "potential_issues": ["None - already fixed"]
      }
    },
    {
      "id": 13,
      "status": "outdated",
      "pr_title": "Simplify Node API with builder pattern",
      "pr_description": "Refactor Node creation to use builder pattern for better ergonomics.",
      "branch": "refactor/node-builder",
      "target_branch": "main",
      "difficulty": "medium",
      "categories": ["api_design", "rust_idioms"],
      "changes": [
        {
          "file": "rsvg/src/node.rs",
          "change_type": "modify",
          "original_diff": "node.rs - requires NodeBuilder pattern",
          "context_lines": 5,
          "current_line_range": "file is significantly different"
        }
      ],
      "expected_review": {
        "focus_areas": ["API ergonomics", "Backward compatibility", "Implementation completeness"],
        "suggestions": ["Keep old create_element", "Consider using derive_builder"],
        "potential_issues": ["Breaking change", "Need to update call sites"]
      }
    },
    {
      "id": 14,
      "status": "outdated",
      "pr_title": "Add logging for debugging rendering issues",
      "pr_description": "Add debug logging to trace rendering pipeline for troubleshooting.",
      "branch": "debug/log-render",
      "target_branch": "main",
      "difficulty": "easy",
      "categories": ["debugging", "logging"],
      "changes": [
        {
          "file": "rsvg/src/drawing_ctx.rs",
          "change_type": "modify",
          "original_diff": "drawing_ctx.rs - requires log macros",
          "context_lines": 5,
          "current_line_range": "file is significantly different"
        }
      ],
      "expected_review": {
        "focus_areas": ["Logging best practices", "Performance impact", "Feature flagging"],
        "suggestions": ["Use appropriate log levels", "Ensure no PII in log output"],
        "potential_issues": ["Conditional compilation may miss edge cases"]
      }
    },
    {
      "id": 15,
      "status": "outdated",
      "pr_title": "Fix memory leak in image loading",
      "pr_description": "Fix potential memory leak when loading raster images in SVG.",
      "branch": "fix/image-leak",
      "target_branch": "main",
      "difficulty": "hard",
      "categories": ["memory_safety", "bug_fix"],
      "changes": [
        {
          "file": "rsvg/src/image.rs",
          "change_type": "modify",
          "original_diff": "image.rs - ImageLoader doesn't exist in current codebase",
          "context_lines": 5,
          "current_line_range": "completely different structure"
        }
      ],
      "expected_review": {
        "focus_areas": ["Resource lifetime management", "RAII patterns", "Memory safety"],
        "suggestions": ["Consider using Arc for shared data ownership"],
        "potential_issues": ["Need to verify all ImageData consumers handle new field"]
      }
    },
    {
      "id": 16,
      "status": "outdated",
      "pr_title": "Add clippy suggestions implementation",
      "pr_description": "Apply clippy lint suggestions from codebase analysis.",
      "branch": "style/clippy-fixes",
      "target_branch": "main",
      "difficulty": "easy",
      "categories": ["code_style", "rust_idioms"],
      "changes": [
        {
          "file": "rsvg/src/unit_interval.rs",
          "change_type": "modify",
          "original_diff": "unit_interval.rs - code location mismatch",
          "original_line_range": "40-50",
          "current_line_range": "methods are in test module at lines 39-50"
        }
      ],
      "expected_review": {
        "focus_areas": ["Clippy recommendations", "Code clarity", "Range API usage"],
        "suggestions": ["The range change is idiomatic"],
        "potential_issues": ["None - style improvements"]
      }
    },
    {
      "id": 17,
      "status": "outdated",
      "pr_title": "Add filter primitives implementation",
      "pr_description": "Implement additional SVG filter primitives: feBlend, feComposite.",
      "branch": "feature/more-filters",
      "target_branch": "main",
      "difficulty": "medium",
      "categories": ["new_feature"],
      "changes": [
        {
          "file": "rsvg/src/filters/blend.rs",
          "change_type": "already_exists",
          "current_code": "// File already exists with full implementation\n// Need different/additional filter feature",
          "context_lines": 5,
          "current_line_range": "1+"
        }
      ],
      "expected_review": {
        "focus_areas": ["SVG spec compliance", "API completeness", "Test coverage needs"],
        "suggestions": ["Consider different filter feature"],
        "potential_issues": ["Already implemented"]
      }
    },
    {
      "id": 18,
      "status": "outdated",
      "pr_title": "Refactor text rendering module organization",
      "pr_description": "Split large text.rs into smaller focused modules.",
      "branch": "refactor/text-module",
      "target_branch": "main",
      "difficulty": "medium",
      "categories": ["code_organization"],
      "changes": [
        {
          "file": "rsvg/src/text.rs",
          "change_type": "modify",
          "original_diff": "text.rs - split into submodules",
          "context_lines": 5,
          "current_line_range": "file not split"
        }
      ],
      "expected_review": {
        "focus_areas": ["Module boundaries", "Public API surface", "Import paths"],
        "suggestions": ["Update all internal imports", "Ensure no public API breakage"],
        "potential_issues": ["May break external dependents"]
      }
    },
    {
      "id": 19,
      "status": "outdated",
      "pr_title": "Add pixel iterator for efficient image processing",
      "pr_description": "Implement streaming pixel iterator to reduce memory usage.",
      "branch": "feature/pixel-iterator",
      "target_branch": "main",
      "difficulty": "hard",
      "categories": ["performance", "api_design"],
      "changes": [
        {
          "file": "rsvg/src/surface_utils/iterators.rs",
          "change_type": "modify",
          "original_diff": "iterators.rs - different structure",
          "context_lines": 5,
          "current_line_range": "needs verification"
        }
      ],
      "expected_review": {
        "focus_areas": ["Iterator implementation", "Memory efficiency", "API ergonomics"],
        "suggestions": ["Consider DoubleEndedIterator", "Add ExactSizeIterator"],
        "potential_issues": ["Need to verify iteration order"]
      }
    },
    {
      "id": 20,
      "status": "outdated",
      "pr_title": "Add CSS @import security restrictions",
      "pr_description": "Implement security limits for CSS @import to prevent information disclosure.",
      "branch": "security/css-import-limit",
      "target_branch": "main",
      "difficulty": "medium",
      "categories": ["security"],
      "changes": [
        {
          "file": "rsvg/src/css.rs",
          "change_type": "modify",
          "original_diff": "css.rs - different import handling",
          "context_lines": 5,
          "current_line_range": "needs verification"
        }
      ],
      "expected_review": {
        "focus_areas": ["Security considerations", "Error handling", "Resource limits"],
        "suggestions": ["Document security model", "Consider adding size limits"],
        "potential_issues": ["Need to ensure recursive imports tracked"]
      }
    },
    {
      "id": 21,
      "status": "outdated",
      "pr_title": "Fix clippy warning: redundant closure",
      "pr_description": "Remove unnecessary closure in filter implementation.",
      "branch": "style/clippy-redundant-closure",
      "target_branch": "main",
      "difficulty": "easy",
      "categories": ["code_style"],
      "changes": [
        {
          "file": "rsvg/src/filters/gaussian_blur.rs",
          "change_type": "modify",
          "original_diff": "gaussian_blur.rs - different code structure",
          "context_lines": 5,
          "current_line_range": "needs verification"
        }
      ],
      "expected_review": {
        "focus_areas": ["Clippy suggestions", "Closure ergonomics"],
        "suggestions": ["Verify compiles", "Consider inline for small closures"],
        "potential_issues": ["None - style fix"]
      }
    },
    {
      "id": 22,
      "status": "outdated",
      "pr_title": "Add property-based tests for path parsing",
      "pr_description": "Use proptest to add property-based testing for path parser.",
      "branch": "test/property-path",
      "target_branch": "main",
      "difficulty": "medium",
      "categories": ["testing"],
      "changes": [
        {
          "file": "rsvg/src/path_parser.rs",
          "change_type": "add",
          "original_diff": "path_parser.rs - add proptest tests",
          "original_line_range": "900-930",
          "current_line_range": "needs verification - file may be longer now"
        }
      ],
      "expected_review": {
        "focus_areas": ["Property-based testing", "Test coverage", "Proptest usage"],
        "suggestions": ["Add proptest to dev-dependencies", "Consider sophisticated generators"],
        "potential_issues": ["Test may be slow"]
      }
    },
    {
      "id": 23,
      "status": "outdated",
      "pr_title": "Add Arc to share expensive objects between threads",
      "pr_description": "Use Arc for sharing gradient and filter objects across thread boundaries.",
      "branch": "perf/shared-arc",
      "target_branch": "main",
      "difficulty": "medium",
      "categories": ["concurrency", "performance"],
      "changes": [
        {
          "file": "rsvg/src/pattern.rs",
          "change_type": "modify",
          "original_diff": "pattern.rs - add Arc usage",
          "context_lines": 5,
          "current_line_range": "needs verification"
        }
      ],
      "expected_review": {
        "focus_areas": ["Arc usage", "Thread safety", "Performance implications"],
        "suggestions": ["Ensure Arc overhead justified", "Consider RwLock"],
        "potential_issues": ["Arc adds overhead", "Need to verify consumers work"]
      }
    },
    {
      "id": 24,
      "status": "outdated",
      "pr_title": "Add deprecation notice for legacy API",
      "pr_description": "Mark old render API as deprecated in favor of new streaming API.",
      "branch": "deprecate/legacy-render",
      "target_branch": "main",
      "difficulty": "easy",
      "categories": ["api_design", "documentation"],
      "changes": [
        {
          "file": "rsvg/src/api.rs",
          "change_type": "modify",
          "original_diff": "api.rs - add deprecation",
          "context_lines": 5,
          "current_line_range": "needs verification"
        }
      ],
      "expected_review": {
        "focus_areas": ["Deprecation policy", "Documentation quality", "Migration path"],
        "suggestions": ["Include migration guide", "Set timeline for removal"],
        "potential_issues": ["Need alternate method exists first"]
      }
    },
    {
      "id": 25,
      "status": "outdated",
      "pr_title": "Fix panic in rect intersection with near-zero values",
      "pr_description": "Handle floating point edge cases in rect intersection calculations.",
      "branch": "fix/rect-float-edge",
      "target_branch": "main",
      "difficulty": "medium",
      "categories": ["bug_fix", "numerical"],
      "changes": [
        {
          "file": "rsvg/src/rect.rs",
          "change_type": "modify",
          "original_diff": "--- a/rsvg/src/rect.rs\n+++ b/rsvg/src/rect.rs\n@@ -45,10 +45,18 @@ impl Rect {\n     }\n\n     pub fn intersection(&self, other: &Rect) -> Option<Rect> {\n-        let x1 = self.x.max(other.x);\n-        let y1 = self.y.max(other.y);\n-        let x2 = (self.x + self.width).min(other.x + other.width);\n-        let y2 = (self.y + self.height).min(other.y + other.height);\n+        let x1 = self.x.max(other.x);\n+        let y1 = self.y.max(other.y);\n+        let x2 = (self.x + self.width).min(other.x + other.width);\n+        let y2 = (self.y + self.height).min(other.y + other.height);\n+\n+        // Handle near-zero dimensions due to floating point errors\n+        let epsilon = 1e-10;\n+        if x2 - x1 < epsilon || y2 - y1 < epsilon {\n+            return None;\n+        }\n+\n         if x1 < x2 && y1 < y2 {\n             Some(Rect::new(x1, y1, x2 - x1, y2 - y1))\n         } else {\n",
          "original_line_range": "45-65",
          "current_line_range": "93-106 (different structure - uses x0,x1,y0,y1 not x,width,height)"
        }
      ],
      "expected_review": {
        "focus_areas": ["Floating point handling", "Numerical stability", "Edge case coverage"],
        "suggestions": ["Consider ulps comparison", "Document epsilon value"],
        "potential_issues": ["Epsilon value may need tuning", "May affect valid small rects"]
      }
    }
  ],
  "summary": {
    "total": 25,
    "valid": 2,
    "outdated": 22,
    "superseded": 1
  }
}
